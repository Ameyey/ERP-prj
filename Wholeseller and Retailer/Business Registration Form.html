<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Business Registration Form</title>
<link rel="stylesheet" href="/css/empinfo.css">
  <link rel="stylesheet" href="/css/hrms.css"> <!-- // for side bar code  -->
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>

  <div th:replace="~{SUPPLIER.html :: sidebarFragment}"></div> <!-- // for side bar code  -->                                                                        
    
   <form  id="businessform" onsubmit="submitForm(event)"  class="form-container">
    <!-- Personal Information Section -->
     <input type="hidden" id="wid" name="wid" th:value="${wr?.wid}">
    <h2>Business Registration Form</h2>   
    <div class="form-section active" id="section1">  
      <!-- First Row -->    
      <div class="form-row"  >
        <div class="form-group">
       <label for="companyname">Company Name :</label>
			<input type="text" id="companyname" name="companyname" th:value="${wr?.companyname}"
				placeholder="Enter company name" required>
        </div>
      <div class="form-group">
       <label for="contactperson">Contact Person :</label>
			<input type="text" id="contactperson" name="contactperson" th:value="${wr?.contactperson}"
				placeholder="Enter contact person name" required>
    </div>

    <div class="form-group">
      <label for="phonenumber">Phone Number :</label>
			<input type="tel" id="phonenumber" name="phonenumber" th:value="${wr?.phonenumber}" pattern="^[0-9]{10}$"
				placeholder="Enter 10-digit phone number" required>
    </div>
    
  
      </div>

      <!-- Second Row -->
      <div class="form-row">
        <div class="form-group">           
         <label for="email">Email Address :</label>
			<input type="email" id="email" name="email" th:value="${wr?.email}"
				placeholder="example@domain.com" required>
    
      </div>
    
        <div class="form-group">      
         <label for="address">Business Address :</label>
			<input type="text" id="address" name="address" rows="3" th:value="${wr?.address}"
				placeholder="Enter business address" required>
      </div>

      <div class="form-group">
       <label for="gstnumber">GST Number :</label>
			<input type="text" id="gstnumber" name="gstnumber" th:value="${wr?.gstnumber}" pattern="^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$" placeholder="e.g. 27ABCDE1234F1Z5" required>
    </div>

    
    
       
    
      </div>
      <!-- Third Row -->
      <div class="form-row">

        <div class="form-group">
        	<label for="pannumber">PAN Number :</label>
			<input type="text" id="pannumber" name="pannumber" th:value="${wr?.pannumber}" pattern="^[A-Z]{5}[0-9]{4}[A-Z]{1}$" placeholder="e.g. ABCDE1234F" required>
      </div>
    

        <div class="form-group">
          <label for="bankaccountnum">Bank Account Number :</label>
			<input type="text" id="bankaccountnum" name="bankaccountnum" th:value="${wr?.bankaccountnum}" pattern="^[0-9]{9,18}$"
				placeholder="Enter bank account number">
        
         
      </div>
      
        <div class="form-group">
          <label for="ifsccode">IFSC Code :</label>
			<input type="text" id="ifsccode" name="ifsccode" th:value="${wr?.ifsccode}" pattern="^[A-Z]{4}0[A-Z0-9]{6}$"
				placeholder="Enter IFSC code">
      </div>

          
      </div>

      <!-- four Row -->
      <div class="form-row">
        <div class="form-group">
         
          <label for="accholder">Account Holder Name :</label>
			<input type="text" id="accholder" name="accholder" th:value="${wr?.accholder}" pattern="^[^0-9]*$"
				placeholder="Enter account holder name">
        </div>
       
      
       
      
      </div>
      
      
   
    </div>

   <!-- Five Row  -->
   

 


    <div class="form-actions">
      <button type="submit" value="Submit">Submit</button>
     
    </div>
  
   </form>



   <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
   <script>
		function submitForm(event) {
			event.preventDefault();
			const formData = new FormData(document.getElementById("businessform"));
			const wId = $('#wid').val();
			let wrurl = wId ? `/updatewr/${wId}` : '/addwrecord';
			$.ajax({
				url: wrurl,
				type: 'POST',
				data: formData,
				processData: false,
				contentType: false,
				success: function (response) {
					alert(response.status);
					resetForm();
					window.location.href = '/getallwholesalers';
				},
				error: function () {
					alert('Error saving form.');
				}
			});
		}

		function resetForm() {
			$('#businessform')[0].reset();
		}
	</script>
   
</body>
</html>
